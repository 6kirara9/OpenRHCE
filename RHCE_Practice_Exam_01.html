<?xml version="1.0" encoding="utf-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="Docutils 0.5: http://docutils.sourceforge.net/" />
<title>RHCE Practice Exam #01</title>
<style type="text/css">

/*
:Author: David Goodger (goodger@python.org)
:Id: $Id: html4css1.css 5196 2007-06-03 20:25:28Z wiemann $
:Copyright: This stylesheet has been placed in the public domain.

Default cascading style sheet for the HTML output of Docutils.

See http://docutils.sf.net/docs/howto/html-stylesheets.html for how to
customize this style sheet.
*/

/* used to remove borders from tables and images */
.borderless, table.borderless td, table.borderless th {
  border: 0 }

table.borderless td, table.borderless th {
  /* Override padding for "table.docutils td" with "! important".
     The right padding separates the table cells. */
  padding: 0 0.5em 0 0 ! important }

.first {
  /* Override more specific margin styles with "! important". */
  margin-top: 0 ! important }

.last, .with-subtitle {
  margin-bottom: 0 ! important }

.hidden {
  display: none }

a.toc-backref {
  text-decoration: none ;
  color: black }

blockquote.epigraph {
  margin: 2em 5em ; }

dl.docutils dd {
  margin-bottom: 0.5em }

/* Uncomment (and remove this text!) to get bold-faced definition list terms
dl.docutils dt {
  font-weight: bold }
*/

div.abstract {
  margin: 2em 5em }

div.abstract p.topic-title {
  font-weight: bold ;
  text-align: center }

div.admonition, div.attention, div.caution, div.danger, div.error,
div.hint, div.important, div.note, div.tip, div.warning {
  margin: 2em ;
  border: medium outset ;
  padding: 1em }

div.admonition p.admonition-title, div.hint p.admonition-title,
div.important p.admonition-title, div.note p.admonition-title,
div.tip p.admonition-title {
  font-weight: bold ;
  font-family: sans-serif }

div.attention p.admonition-title, div.caution p.admonition-title,
div.danger p.admonition-title, div.error p.admonition-title,
div.warning p.admonition-title {
  color: red ;
  font-weight: bold ;
  font-family: sans-serif }

/* Uncomment (and remove this text!) to get reduced vertical space in
   compound paragraphs.
div.compound .compound-first, div.compound .compound-middle {
  margin-bottom: 0.5em }

div.compound .compound-last, div.compound .compound-middle {
  margin-top: 0.5em }
*/

div.dedication {
  margin: 2em 5em ;
  text-align: center ;
  font-style: italic }

div.dedication p.topic-title {
  font-weight: bold ;
  font-style: normal }

div.figure {
  margin-left: 2em ;
  margin-right: 2em }

div.footer, div.header {
  clear: both;
  font-size: smaller }

div.line-block {
  display: block ;
  margin-top: 1em ;
  margin-bottom: 1em }

div.line-block div.line-block {
  margin-top: 0 ;
  margin-bottom: 0 ;
  margin-left: 1.5em }

div.sidebar {
  margin: 0 0 0.5em 1em ;
  border: medium outset ;
  padding: 1em ;
  background-color: #ffffee ;
  width: 40% ;
  float: right ;
  clear: right }

div.sidebar p.rubric {
  font-family: sans-serif ;
  font-size: medium }

div.system-messages {
  margin: 5em }

div.system-messages h1 {
  color: red }

div.system-message {
  border: medium outset ;
  padding: 1em }

div.system-message p.system-message-title {
  color: red ;
  font-weight: bold }

div.topic {
  margin: 2em }

h1.section-subtitle, h2.section-subtitle, h3.section-subtitle,
h4.section-subtitle, h5.section-subtitle, h6.section-subtitle {
  margin-top: 0.4em }

h1.title {
  text-align: center }

h2.subtitle {
  text-align: center }

hr.docutils {
  width: 75% }

img.align-left {
  clear: left }

img.align-right {
  clear: right }

ol.simple, ul.simple {
  margin-bottom: 1em }

ol.arabic {
  list-style: decimal }

ol.loweralpha {
  list-style: lower-alpha }

ol.upperalpha {
  list-style: upper-alpha }

ol.lowerroman {
  list-style: lower-roman }

ol.upperroman {
  list-style: upper-roman }

p.attribution {
  text-align: right ;
  margin-left: 50% }

p.caption {
  font-style: italic }

p.credits {
  font-style: italic ;
  font-size: smaller }

p.label {
  white-space: nowrap }

p.rubric {
  font-weight: bold ;
  font-size: larger ;
  color: maroon ;
  text-align: center }

p.sidebar-title {
  font-family: sans-serif ;
  font-weight: bold ;
  font-size: larger }

p.sidebar-subtitle {
  font-family: sans-serif ;
  font-weight: bold }

p.topic-title {
  font-weight: bold }

pre.address {
  margin-bottom: 0 ;
  margin-top: 0 ;
  font-family: serif ;
  font-size: 100% }

pre.literal-block, pre.doctest-block {
  margin-left: 2em ;
  margin-right: 2em }

span.classifier {
  font-family: sans-serif ;
  font-style: oblique }

span.classifier-delimiter {
  font-family: sans-serif ;
  font-weight: bold }

span.interpreted {
  font-family: sans-serif }

span.option {
  white-space: nowrap }

span.pre {
  white-space: pre }

span.problematic {
  color: red }

span.section-subtitle {
  /* font-size relative to parent (h1..h6 element) */
  font-size: 80% }

table.citation {
  border-left: solid 1px gray;
  margin-left: 1px }

table.docinfo {
  margin: 2em 4em }

table.docutils {
  margin-top: 0.5em ;
  margin-bottom: 0.5em }

table.footnote {
  border-left: solid 1px black;
  margin-left: 1px }

table.docutils td, table.docutils th,
table.docinfo td, table.docinfo th {
  padding-left: 0.5em ;
  padding-right: 0.5em ;
  vertical-align: top }

table.docutils th.field-name, table.docinfo th.docinfo-name {
  font-weight: bold ;
  text-align: left ;
  white-space: nowrap ;
  padding-left: 0 }

h1 tt.docutils, h2 tt.docutils, h3 tt.docutils,
h4 tt.docutils, h5 tt.docutils, h6 tt.docutils {
  font-size: 100% }

ul.auto-toc {
  list-style-type: none }

</style>
</head>
<body>
<div class="document" id="rhce-practice-exam-01">
<h1 class="title">RHCE Practice Exam #01</h1>

<p>These tasks are taken from the objectives Red Hat has publicly posted and should therefore approximate the type of tasks one might find on the RHCE exam.  It is expressly NOT based on actual contents of a Red Hat Exam.</p>
<p>You should configure your physical server and three virtual machines as follows:</p>
<table border="1" class="docutils">
<caption>Systems Configuration</caption>
<colgroup>
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
<col width="20%" />
</colgroup>
<thead valign="bottom">
<tr><th class="head">&nbsp;</th>
<th class="head">Physical Host</th>
<th class="head">vm1</th>
<th class="head">vm2</th>
<th class="head">vm3</th>
</tr>
</thead>
<tbody valign="top">
<tr><td>Hostname</td>
<td>s&lt;x&gt;host.linux-acc.local</td>
<td>s&lt;x&gt;server.linux-acc.local</td>
<td>s&lt;x&gt;client.linux-acc.local</td>
<td>s&lt;x&gt;untrusted.linux-acc.local</td>
</tr>
<tr><td>IP Address</td>
<td>192.168.5.&lt;x&gt;0</td>
<td>192.168.5.&lt;x&gt;1</td>
<td>192.168.5.&lt;x&gt;2</td>
<td>DHCP</td>
</tr>
<tr><td>Subnet</td>
<td>/22 or 255.255.252.0</td>
<td>/22 or 255.255.252.0</td>
<td>/22 or 255.255.252.0</td>
<td>n/a</td>
</tr>
<tr><td>Def. GW</td>
<td>192.168.4.1</td>
<td>192.168.4.1</td>
<td>192.168.4.1</td>
<td>192.168.4.1</td>
</tr>
<tr><td>Nameserver</td>
<td>192.168.7.254</td>
<td>192.168.7.254</td>
<td>192.168.7.254</td>
<td>192.168.7.254</td>
</tr>
</tbody>
</table>
<p>Networks:</p>
<blockquote>
<dl class="docutils">
<dt>Local network</dt>
<dd>192.168.4.0/22 (255.255.252.0), GW 192.168.4.0, DNS 192.168.7.254</dd>
<dt>Trusted subnet</dt>
<dd>192.168.5.0/24 (255.255.255.0)</dd>
<dt>Untrusted subnet</dt>
<dd>192.168.4.0/24 (255.255.255.0)</dd>
</dl>
</blockquote>
<div class="section" id="configuration-common-to-all-three-vms">
<h1>Configuration Common to all three VMs</h1>
<p>Obtain the .repo file from <a class="reference external" href="ftp://192.168.5.200/pub/classroom.repo">ftp://192.168.5.200/pub/classroom.repo</a> and install it in the appropriate location for yum configuration.  Or configure a repo using a source URL of: <a class="reference external" href="ftp://192.168.5.200/pub/rhel6">ftp://192.168.5.200/pub/rhel6</a>.</p>
</div>
<div class="section" id="untrusted-vm-configuration">
<h1>Untrusted VM Configuration</h1>
<p>On the untrusted host, use DHCP networking and install/configure only that components that are required for testing prohibited access to the services described below.</p>
</div>
<div class="section" id="configuration-common-to-both-the-server-and-client-vms">
<h1>Configuration Common to both the Server and Client VMs</h1>
<ul>
<li><dl class="first docutils">
<dt>Create Users:</dt>
<dd><ul class="first last simple">
<li>ford (UID=1005)</li>
<li>carter (UID=1006)</li>
<li>reagan (UID=1007)</li>
<li>clinton (UID=1008)</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Create Groups:</p>
<blockquote>
<ul class="simple">
<li>presidents (GID=1000; members=ford, carter, reagan, clinton)</li>
<li>republicans (GID=1001; members=ford, reagan)</li>
<li>democrats (GID=1002; members=carter, clinton)</li>
</ul>
</blockquote>
</li>
</ul>
</div>
<div class="section" id="server-configuration">
<h1>Server Configuration</h1>
<ul>
<li><p class="first">SSH connections should be allowed from throughout the 192.168.4.0/22 network.</p>
</li>
<li><p class="first">For all other services, connections should be allowed from addresses within the trusted network (192.168.5.0/24), but disallowed from 192.168.4.0/24.</p>
</li>
<li><p class="first">Configure an SMTP server that allows connections from the trusted subnet.</p>
</li>
<li><p class="first">Connect to the iSCSI target provided by the target portal at 192.168.5.200.</p>
</li>
<li><p class="first">Partition the iSCSI disk into 2 approximately equal partitions.</p>
<blockquote>
<ul class="simple">
<li>Use one for extra swap space.</li>
<li>Use one for an ext4 filesystem mounted at /data</li>
</ul>
</blockquote>
</li>
<li><p class="first">Configure this virtual machine to boot to a command-line only.</p>
</li>
<li><p class="first">Add add'l swap space</p>
</li>
<li><p class="first">Create a PV, VG, and LV</p>
</li>
<li><p class="first">Create directories:</p>
<blockquote>
<p><tt class="docutils literal"><span class="pre">/share/presidents</span></tt></p>
<blockquote>
<ul class="simple">
<li>All four users must be able to write here.</li>
<li>This directory must be owned by root and the group presidents.</li>
<li>Only users in this group should have any access to the directory.</li>
<li>Files created here should be owned by the group presidents.</li>
<li>Users should not be able to delete files they did not create.</li>
<li>This directory should have an SELinux fcontext that will permit it to be shared by multiple services.</li>
</ul>
</blockquote>
<p><tt class="docutils literal"><span class="pre">/share/presidents/republicans</span></tt></p>
<blockquote>
<ul class="simple">
<li>This directory should be owned by root and the group republicans.</li>
<li>Files created here should be owned by the group republicans.</li>
<li>Only users in this group should have any access to the directory.</li>
<li>Users should not be able to delete files they did not create.</li>
<li>This directory should have an SELinux fcontext that will permit it to be shared by multiple services.</li>
</ul>
</blockquote>
<p><tt class="docutils literal"><span class="pre">/share/presidents/democrats</span></tt></p>
<blockquote>
<ul class="simple">
<li>This directory should be owned by root and the group democrats.</li>
<li>Files created here should be owned by the group democrats.</li>
<li>Only users in this group should have any access to the directory.</li>
<li>Users should not be able to delete files they did not create.</li>
<li>This directory should have an SELinux fcontext that will permit it to be shared by multiple services.</li>
</ul>
</blockquote>
</blockquote>
</li>
<li><p class="first">Configure each of these four directories to be shared via NFS to any system in the trusted subnet.  Ensure that root privileges cannot be gained from a remote mount.</p>
</li>
<li><p class="first">Configure an FTP server to allow anonymous downloads from <tt class="docutils literal"><span class="pre">/var/ftp/pub</span></tt> and anonymous uploads to <tt class="docutils literal"><span class="pre">/var/ftp/pub/inbound</span></tt> (create this directory and set permissions appropriately). Ensure that uploaded files cannot be viewed or downloaded without admin intervention.</p>
</li>
<li><p class="first">Configure a Web server to serve the following vhosts:</p>
<blockquote>
<dl class="docutils">
<dt>Access to pres.s&lt;x&gt;server.linux-acc.local</dt>
<dd><p class="first last">serves an index page located in /share/presidents/</p>
</dd>
<dt>Access to rep.s&lt;x&gt;server.linux-acc.local</dt>
<dd><p class="first last">serves an index page located in /share/presidents/republicans/</p>
</dd>
<dt>Access to dem.s&lt;x&gt;server.linux-acc.local</dt>
<dd><p class="first last">serves an index page located in /share/presidents/democrats/</p>
</dd>
</dl>
<p>Use filesystem ACLs to resolve any permissions issues you encounter.</p>
<p>Place and index file in each of these locations that indicates which directory it is in and under which name it should be served out.</p>
</blockquote>
</li>
<li><p class="first">Configure Samba to share the /share/presidents directory using a share name of presidents. Make it readable for ford and carter and writable for reagan and clinton.</p>
</li>
<li><p class="first">SELinux should run in Enforcing mode and not interfering with any desired services.</p>
</li>
<li><p class="first">The firewall should be enabled and not interfering with any desired services.</p>
</li>
</ul>
</div>
<div class="section" id="client-configuration">
<h1>Client Configuration</h1>
<p>Mount an NFS share from the server</p>
<p>Mount a SAMBA share from the server</p>
<p>Configure this virtual machine to boot to the Gnome GUI.</p>
<ul class="simple">
<li>Create a directory <tt class="docutils literal"><span class="pre">/home/remote</span></tt>.</li>
<li>Configure the automounter such that attempt to access locations in <tt class="docutils literal"><span class="pre">/home/remote/presidents/</span></tt> cause the nfs share <tt class="docutils literal"><span class="pre">/share/presidents</span></tt> from your server to be mounted at <tt class="docutils literal"><span class="pre">/home/remote/presidents</span></tt>.</li>
<li>Configure static name resolution so that s&lt;x&gt;server.linux-acc.local, s&lt;x&gt;server, pres.s&lt;x&gt;server.linux-acc.local, rep.s&lt;x&gt;server.linux-acc.local, and dem.s&lt;x&gt;server.linux-acc.local all resolve to the ip address of your server VM.</li>
</ul>
</div>
</div>
<div class="footer">
<hr class="footer" />
Generated on: 2011-05-25 23:54 UTC.

</div>
</body>
</html>
