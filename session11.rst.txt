Session 11 DNS and SMTP
===============================

Types of DNS servers
-----------------------------

Authoritative

* Master (primary)

* Slave (secondary)

Non-authoritative

* Caching-only

Current RHCE Objectives only require ability to configure a few behaviors of a caching-only name server. The default configuration is now a caching-only nameserver listening only to localhost.

Installing and enabling Bind
------------------------------

::

    # yum -y install bind

    # service named start
    
    # chkconfig named on




Useful Commands
------------------------

.. rndc
..   control the bind service.

host
  Queries for DNS resolution.  Uses /etc/nsswitch and /etc/resolv.conf.

dig
  Queries a DNS server directly.  By-passing local config files if you want.

  dig www.dell.com
    Gets dns server from resolv.conf

  dig @dns_server www.dell.com
    Queries DNS server directly.




.. o DNS
.. + * Install the packages needed to provide the service
.. + * Configure SELinux to support the service
.. + * Configure the service to start when the system is booted
.. + * Configure the service for basic operation
.. + * Configure host-based and user-based security for the service
.. + * Configure a caching-only name server
.. + * Configure a caching-only name server to forward DNS queries
.. + * Note: Candidates are not expected to configure master or slave name servers




Email TLAs:  MTA, MUA, MDA
---------------------------------

MTA - Mail Transfer Agent

	Conveys mail from Server to Server (ex: sendmail, postfix)

MUA - Mail User Agent

	Conveys mail between Client and Server (ex: Evolution, Thunderbird, mutt, mail, elm)

MDA - Mail Delivery Agent

	Conveys mail from Server to local mail spools 


Red Hat's New Default MTA: Postfix
--------------------------------------


Packages
  postfix

/etc/postfix/main.cf

  myhostname = server.dell.com

  mydomain = dell.com

  myorigin = $mydomain

  inet_interfaces = all
  
  mynetworks = 192.168.0.0/16, 10.0.0.0/8
  
  
Postfix configuration tool
-----------------------------------

postconf

	Applies configuration changes on the fly (not persistent).  Can also display available directives and default directives.

Reading Mail
--------------------

mail

mutt


.. o SMTP
.. + * Install the packages needed to provide the service
.. + * Configure SELinux to support the service
.. + * Configure the service to start when the system is booted
.. + * Configure the service for basic operation
.. + * Configure host-based and user-based security for the service
.. + * Configure a mail transfer agent (MTA) to accept inbound email from other systems
.. + * Configure an MTA to forward (relay) email through a smart host

